{{ define "head_extra" }}
<style>
  .gallery-images { position: relative; width: 100%; height: 100%; min-height: 20rem; }
  .gallery-images img { position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 0.5s ease-in-out; }
  .gallery-images img.active { opacity: 1; position: relative; z-index: 1; }
  .gallery-dot { width: 10px; height: 10px; border-radius: 50%; background-color: rgba(255,255,255,0.5); border: none; cursor: pointer; transition: all 0.3s ease; }
  .gallery-dot.active { background-color: rgba(255,255,255,1); transform: scale(1.2); }
  .gallery-dot:hover { background-color: rgba(255,255,255,0.8); }
</style>
{{ end }}

{{ define "main" }}
<section class="py-6 px-4 sm:px-6 lg:px-8 bg-white border-b border-border">
  <div class="max-w-6xl mx-auto">
    <div class="rounded-2xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200/80 p-6 sm:p-8 shadow-md hover:shadow-lg hover:border-green-300 transition text-left">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
          <p class="text-sm font-semibold text-green-700 uppercase tracking-wider mb-1">Registration open</p>
          <a href="{{ "spring_camp/" | relURL }}" class="hover:opacity-90 transition"><h2 class="text-2xl sm:text-3xl font-bold text-foreground mb-2">GTP Spring Camp üå∏</h2></a>
          <p class="text-muted-foreground mb-2">April 6‚Äì17, 2026 ¬∑ Bilingual Mandarin-English camp for PreK, TK & Kindergarten. Hands-on activities, play-based learning, limited spots.</p>
          <a href="{{ "spring_camp/" | relURL }}" class="inline-flex items-center gap-1 text-orange-600 font-bold hover:underline">Learn More ‚Üí</a>
        </div>
        <div class="flex-shrink-0">
          <a href="{{ .Site.Params.springCampFormURL }}" target="_blank" rel="noopener noreferrer" class="inline-block bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition">Register</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="relative bg-gradient-to-br from-yellow-50 via-orange-50 to-rose-50 py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-6xl mx-auto">
    <div class="grid md:grid-cols-2 gap-12 items-center">
      <div>
        <div class="mb-6">
          <h2 class="text-4xl font-bold text-foreground mb-2 leading-tight font-kaiti">Ê¨¢‰πêÂπºÂÑøÂõ≠</h2>
          <h2 class="text-4xl sm:text-5xl font-bold text-foreground mb-2 leading-tight">Get Together Preschool</h2>
          <p class="text-xl sm:text-2xl text-muted-foreground">Nurturing hearts & minds through play-based learning</p>
        </div>
        <div class="space-y-4 mb-8">
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-foreground flex-shrink-0 mt-1"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg>
            <p class="font-semibold text-foreground text-lg"><a href="https://www.naeyc.org/accreditation" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition">NAEYC Accredited</a></p>
          </div>
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-black flex-shrink-0 mt-1"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
            <p class="font-semibold text-foreground text-lg">‰∏≠Ëã± English & Mandarin Immersion</p>
          </div>
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-foreground flex-shrink-0 mt-1"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
            <p class="font-semibold text-foreground text-lg">Now Enrolling 18 Months to 6 Years</p>
          </div>
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-foreground flex-shrink-0 mt-1"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle></svg>
            <p class="font-semibold text-foreground text-lg"><a href="https://www.google.com/maps/search/?api=1&query={{ .Site.Params.mapsQuery }}" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition">{{ .Site.Params.address }}</a></p>
          </div>
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="{{ "apply/" | relURL }}" class="inline-block bg-orange-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-orange-600 transition text-center shadow-lg">Apply Now</a>
          <a href="{{ "contact/" | relURL }}" class="inline-block bg-white text-primary border-2 border-primary px-8 py-4 rounded-lg font-bold text-lg hover:bg-primary/5 transition text-center">Contact Us</a>
        </div>
      </div>
      <div id="gallery" class="relative">
        <div class="rounded-2xl overflow-hidden shadow-2xl">
          <div class="gallery-images">
            {{ $scratch := newScratch }}
            {{ $scratch.Set "imgs" slice }}
            {{ range sort (readDir "static/images") "Name" }}
              {{ if and (ne .Name "logo.png") (or (hasSuffix .Name ".jpeg") (hasSuffix .Name ".jpg") (hasSuffix .Name ".png")) }}
                {{ $scratch.Add "imgs" .Name }}
              {{ end }}
            {{ end }}
            {{ $imgs := $scratch.Get "imgs" }}
            {{ range $i, $name := $imgs }}
              <img src="{{ (printf "images/%s" $name) | relURL }}" alt="Get Together Preschool" class="w-full h-80 md:h-96 object-cover object-center {{ if eq $i 0 }}active{{ end }}">
            {{ end }}
          </div>
        </div>
        <button id="prevBtn" type="button" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-primary rounded-full p-2 shadow-lg transition z-10" aria-label="Previous image">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"></path></svg>
        </button>
        <button id="nextBtn" type="button" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-primary rounded-full p-2 shadow-lg transition z-10" aria-label="Next image">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
        </button>
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10" id="gallery-dots">
          {{ range $i, $name := $imgs }}
            <button type="button" class="gallery-dot {{ if eq $i 0 }}active{{ end }}" data-index="{{ $i }}" aria-label="Go to image {{ add $i 1 }}"></button>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-8 px-4 sm:px-6 lg:px-8 bg-white">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-3xl sm:text-4xl font-bold text-foreground mb-12 text-center">Meet Your Instructor</h2>
    <div class="grid md:grid-cols-2 gap-12">
      <div class="rounded-2xl overflow-hidden shadow-xl bg-gray-100 aspect-square flex max-w-80 mx-auto">
        <img src="{{ "images/profile.jpeg" | relURL }}" alt="Voonfee Leow" class="w-full h-full object-cover">
      </div>
      <div>
        <h3 class="text-2xl font-bold text-foreground mb-4">Voonfee Leow</h3>
        <p class="text-lg text-muted-foreground mb-6">M.A. Early Childhood Special Education</p>
        <div class="space-y-6 text-foreground leading-relaxed">
          <p>Voonfee Leow is an educator with 15 years of experience in early childhood development and special education. She holds a Master's degree in Early Childhood Special Education, a teacher's credential in ECSE, and has worked as an Early Interventionist supporting young children and their families.</p>
          <div>
            <h4 class="text-lg font-semibold text-foreground mb-2">Play-Based Learning</h4>
            <p>Voonfee's approach is inspired by several well-known educational philosophies like Montessori, Waldorf, RIE, and Reggio Emilia. She encourages play-based learning in a warm environment where children are respected, encouraged, and celebrated. Miniature-scale toys like our kitchen set help foster role-play and imagination, while building blocks help build motor skills, curiosity, and encourage discovery.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-foreground mb-2">Bilingual Education & Expert Training</h4>
            <p>Children are immersed in both English and Mandarin. Voonfee is fluent in both, as well as Cantonese and Hakka. With advanced training in the California Preschool Learning Foundations, DRDP assessment, and ASQ screening, Get Together Preschool exists to learn and celebrate diverse cultures and your child's unique talents and interests.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-foreground mb-2">Get Together</h4>
            <p>Your child will be in the hands of an educator who sees their strengths, welcomes their curiosity, and creates an inclusive space where every student can flourish and learn.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center mt-16">
      <a href="{{ "programs/" | relURL }}" class="inline-block bg-primary text-primary-foreground px-8 py-4 rounded-lg font-bold text-lg hover:bg-primary/90 transition shadow-lg">Explore Our Programs</a>
    </div>
  </div>
</section>
{{ end }}

{{ define "scripts" }}
<script>
(function() {
  const images = document.querySelectorAll('.gallery-images img');
  const dots = document.querySelectorAll('.gallery-dot');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  if (!images.length) return;
  let currentIndex = 0;
  let touchStartX = 0, touchEndX = 0;
  let autoAdvanceInterval = null;
  function showImage(index) {
    index = (index + images.length) % images.length;
    currentIndex = index;
    images.forEach((img, i) => img.classList.toggle('active', i === index));
    dots.forEach((dot, i) => dot.classList.toggle('active', i === index));
  }
  function nextImage() { showImage(currentIndex + 1); }
  function prevImage() { showImage(currentIndex - 1); }
  function stopAutoAdvance() {
    if (autoAdvanceInterval) { clearInterval(autoAdvanceInterval); autoAdvanceInterval = null; }
  }
  if (nextBtn) nextBtn.addEventListener('click', () => { stopAutoAdvance(); nextImage(); });
  if (prevBtn) prevBtn.addEventListener('click', () => { stopAutoAdvance(); prevImage(); });
  dots.forEach(function(dot) {
    dot.addEventListener('click', function() {
      stopAutoAdvance();
      showImage(parseInt(dot.dataset.index, 10));
    });
  });
  var gallery = document.getElementById('gallery');
  if (gallery) {
    gallery.addEventListener('touchstart', function(e) { touchStartX = e.changedTouches[0].screenX; });
    gallery.addEventListener('touchend', function(e) {
      touchEndX = e.changedTouches[0].screenX;
      if (touchEndX < touchStartX - 50) { stopAutoAdvance(); nextImage(); }
      if (touchEndX > touchStartX + 50) { stopAutoAdvance(); prevImage(); }
    });
  }
  if (images.length > 1) autoAdvanceInterval = setInterval(nextImage, 5000);
})();
(function() {
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  if (mobileMenuBtn && mobileMenu) mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
})();
</script>
{{ end }}
